---
title: プラットフォーマー チュートリアル Part 6：敵をゲームに追加しよう
---
# プラットフォーマー チュートリアル Part 6：敵をゲームに追加しよう

今回は決まったルートを行ったり来たりする敵の作り方を説明します。チュートリアルの次章では、ここで作る敵をやっつける――もしくは、やっつけられる――方法を説明する予定です。

## シリーズ

いま読んでいるのは[プラットフォーマー チュートリアル](/ja/gdevelop5/tutorials/platformer)の **Part 6** です。

1. [プラットフォーマー チュートリアル Part 1](/ja/gdevelop5/tutorials/platformer)
2. [プラットフォーマー チュートリアル Part 2](/ja/gdevelop5/tutorials/platformer/part-2)
3. [プラットフォーマー チュートリアル Part 3](/ja/gdevelop5/tutorials/platformer/part-3)
4. [プラットフォーマー チュートリアル Part 4](/ja/gdevelop5/tutorials/platformer/part-4)
5. [プラットフォーマー チュートリアル Part 5](/ja/gdevelop5/tutorials/platformer/part-5)
6. プラットフォーマー チュートリアル Part 6
7. [プラットフォーマー チュートリアル Part 7](/ja/gdevelop5/tutorials/platformer/part-7)
8. [プラットフォーマー チュートリアル Part 8](/ja/gdevelop5/tutorials/platformer/part-8)


## ステップ 1：敵オブジェクトを作成する

1. 「Slime」という名前のスプライトオブジェクトを作成します。
2. 以下のアセットを使って、オブジェクトにアニメーションを追加します。

   - slimeWalk1.png
   - slimeWalk2.png
3. **ループ**オプションにチェックを入れます。
4. オブジェクトをシーンにドラッグしてインスタンスを配置します。

![](/gdevelop5/tutorials/platformer/06-01.jpg)

ゲームをプレビューすると、画面にアニメーションする敵が表示されます。

![](/gdevelop5/tutorials/platformer/06-02.gif)

## ステップ 2：敵を右に移動させる

このチュートリアルの前の章で、変数には 3 種類あると説明しました。

- オブジェクト
- シーン
- グローバル

このうち、_オブジェクト_変数は特定のオブジェクトに関連付けされた変数です。これはつまり、この変数が保持する値は関連付けされたオブジェクトのみで利用できる――そして、そのオブジェクトのみに関係する――ということです。

では「Slime」オブジェクトに、次の手順でオブジェクト変数を追加しましょう。

1. オブジェクトパネルの「Slime」オブジェクトを右クリックします。
2. **オブジェクト変数を編集**を選択します。
3. 「方向」という名前の変数を追加し、値に「右」と入力します。これが変数のデフォルト値になります。
4. **適用**をクリックします。

この「方向」変数は、敵の現在の方向を保持するのに使います。この後のステップで、変数の値を変更すると敵の向きも変わるようにする予定です。

![](/gdevelop5/tutorials/platformer/06-03.jpg)

敵が右を向くようにするために、イベントを作成します。

1. イベントエディターを開きます。
2. 新しいイベントを作成します。
3. 条件を作成して、「Slime」オブジェクトの**オブジェクト変数のテキスト**条件を選択します。
4. **変数**フィールドに「方向」と入力します。
5. **テスト記号**フィールドから**=（と等しい）**を選択します。
6. **比較する値**フィールドに「"右"」と入力します（二重引用符も含めます）。
7. **OK**をクリックします。

![](/gdevelop5/tutorials/platformer/06-04.jpg)

続いて、イベントにアクションを追加します。

1. イベントに**オブジェクトを移動する（角度）**アクションを追加します。（訳注：実際にはこの手前に、新しいイベントを作成して「Slime」オブジェクトの方向変数のテキストが "左" であることをテストする条件の追加が必要と思われる）
2. **オブジェクト**フィールドから「Slime」を選択します。
3. **角度**フィールドに「0」と入力します。
4. **速度**フィールドに「100」と入力します。
5. **瞬間的**オプションを有効にします。
6. **OK**をクリックします。

![](/gdevelop5/tutorials/platformer/06-05.jpg)

完成したイベントは下図のようになります。

![](/gdevelop5/tutorials/platformer/06-06.jpg)

このイベントにもとづいて、「方向」変数の値が「右」のあいだ「Slime」は右へ移動します。今のところオブジェクトの方向は変わらないので、必然的にプラットフォームの端まで行くとそのまま落ちてしまいます。

![](/gdevelop5/tutorials/platformer/06-07.gif)

## ステップ 3：敵の方向を変更する

敵の方向を変更するには、シーンに 2 つの見えないオブジェクトを追加する必要があります。ひとつを「右へ」、もうひとつを「左へ」と名付けておきましょう。これを敵の両側に配置します。

それから、敵がこのオブジェクトのどちらかに接触したら方向を変えるようにします。これで、あたかも敵が決められた経路に沿って巡回しているかのような幻想が生みだされます。

このステップでは、まず「左へ」オブジェクトの作成に焦点を当てます。敵がこのオブジェクトに接触したら、右から左に方向を変えるようにします（これを作り終わったら、次は「右へ」オブジェクトの作成に移ります）。

### 「左へ」オブジェクトを作成する

1. 「左へ」という名前のスプライトオブジェクトを作成します。
2. デフォルトの画像にアセットの「left.png」を指定します。
3. オブジェクトをシーンにドラッグしてインスタンスを（敵の右側に）配置します。

![](/gdevelop5/tutorials/platformer/06-08.jpg)

### 敵が「左へ」オブジェクトと接触したことを検知する

1. 新しいイベントを作成します。
2. 「Slime」オブジェクトの**衝突**条件をイベントに追加して、「左へ」オブジェクトとの接触をテストします。

![](/gdevelop5/tutorials/platformer/06-09.jpg)

### 「方向」変数の値を変更する

1. **オブジェクト変数のテキストを修正**アクションをイベントに追加します。
2. **変数**フィールドに「方向」と入力します。
3. **変更記号**ドロップダウンリストから**=（代入）**を選択します。
4. **値**フィールドに「"左"」と入力します（二重引用符も含めます）。

![](/gdevelop5/tutorials/platformer/06-10.jpg)

### 「Slime」オブジェクトを反転させる

1. **オブジェクトを水平方向に反転させる**アクションをイベントに追加します。
2. **反転を有効にする**オプションを**はい**に設定します。

これで「Slime」オブジェクトが移動する方向が変わるだけでなく、オブジェクト自体の*向きも変わる*ようになります。

### 敵の方向を変更する

1. イベントに**オブジェクトを移動する（角度）**アクションを追加します。（訳注：実際にはこの手前に、新しいイベントを作成して「Slime」オブジェクトの方向変数のテキストが "左" であることをテストする条件の追加が必要と思われる）
2. **オブジェクト**フィールドから「Slime」を選択します。
3. **角度**フィールドに「180」と入力します。
4. **速度**フィールドに「100」と入力します。
5. **瞬間的**オプションを有効にします。
6. **OK**をクリックします。

ゲームをプレビューすると、敵が「左へ」オブジェクトに接触すると向きを変えるはずです。

![](/gdevelop5/tutorials/platformer/06-12.gif)

### 「左へ」オブジェクトを非表示にする

1. 新しいイベントを作成します。
2. **シーンが始まった**条件をイベントに追加します。
3. 「左へ」オブジェクトに**非表示にする**アクションを追加します。

![](/gdevelop5/tutorials/platformer/06-11.jpg)

ゲームをプレビューすると、まるで敵が自分の「判断」で向きを変えるように見えるでしょう。

![](/gdevelop5/tutorials/platformer/06-13.gif)

## ステップ 4：敵の方向を変更する（2 度目）

今のところ、敵が「左へ」オブジェクトに接触したら、右から左へ方向を変えて、そのままずっと左へ移動し続けます。そこでもう一度方向を変えるように、今度は「右へ」オブジェクトを作成することにします。このオブジェクトは「左へ」オブジェクトとほぼ同じで、下記の部分だけが異なります。

- 画像にはアセットの「right.png」を指定する
- 「Slime」オブジェクトが「右へ」オブジェクトと接触したとき、「方向」変数には "右" を代入する
- **オブジェクトを水平方向に反転させる**アクションの**反転を有効にする**オプションは**いいえ**に設定する

この通り作成したら、「右へ」オブジェクトをシーンにドラッグしてインスタンスを敵の左側に配置します。

![](/gdevelop5/tutorials/platformer/06-14.jpg)

ゲームをプレビューすると、敵が見えないマーカーのあいだを行ったり来たりするようになります。

![](/gdevelop5/tutorials/platformer/06-15.gif)

## 次のステップ

次は[プラットフォーマー チュートリアル Part 7](/ja/gdevelop5/tutorials/platformer/part-7) です。