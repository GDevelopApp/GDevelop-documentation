---
title: プラットフォーマー チュートリアル Part 8：チェックポイントをゲームに追加しよう
---
# プラットフォーマー チュートリアル Part 8：チェックポイントをゲームに追加しよう

今回はチェックポイントをゲームに追加する方法を説明します。そしてプレイヤーが死んだときは、最寄りのチェックポイントに送るようにします。

## シリーズ

いま読んでいるのは[プラットフォーマー チュートリアル](/ja/gdevelop5/tutorials/platformer/start)の **Part 8** です。

1. [プラットフォーマー チュートリアル Part 1](/ja/gdevelop5/tutorials/platformer/start)
2. [プラットフォーマー チュートリアル Part 2](/ja/gdevelop5/tutorials/platformer/part-2)
3. [プラットフォーマー チュートリアル Part 3](/ja/gdevelop5/tutorials/platformer/part-3)
4. [プラットフォーマー チュートリアル Part 4](/ja/gdevelop5/tutorials/platformer/part-4)
5. [プラットフォーマー チュートリアル Part 5](/ja/gdevelop5/tutorials/platformer/part-5)
6. [プラットフォーマー チュートリアル Part 6](/ja/gdevelop5/tutorials/platformer/part-6)
7. [プラットフォーマー チュートリアル Part 7](/ja/gdevelop5/tutorials/platformer/part-7)
8. プラットフォーマー チュートリアル Part 8

## ステップ 1：チェックポイントオブジェクトを作成する

最初のステップでは、チェックポイント用のオブジェクトを作成します。チュートリアルもここに差し掛かれば、もはやおなじみの手順でしょう。うろ覚えな感じがしたら、[オブジェクト](/ja/gdevelop5/objects)を読んでみてください。

では次の手順でチェックポイントオブジェクトを作成しましょう。

1. 「Checkpoint」という名前のスプライトオブジェクトを作成します。
2. チェックポイントのイメージには「bush.png」アセットを使います。
3. オブジェクトをシーンにドラッグして、1 個以上のインスタンスを配置します。

## ステップ 2：プレーヤーがチェックポイントに到達したら座標をセーブする

プレーヤーがチェックポイントに到達したら、チェックポイントの座標を変数に保存するようにします。そうすれば、プレイヤーが死んだときにその座標に送り返せます。

オブジェクトの X 座標と Y 座標には、次の構文でアクセスできます。

```
オブジェクト名.X()
オブジェクト名.Y()
```

これらの文は、両方とも式の例です。

次の手順で、「Player」オブジェクトがチェックポイントに到達したときに座標を保存します。

1. 新しいイベントを作成します。
2. 「Player」オブジェクトの**衝突**条件を作成して、「Checkpoint」と衝突しているかチェックします。
3. **シーン変数の値**アクションを作成して、そこで「CheckpointX」変数に `Checkpoint.X()` の値を代入します。
4. **シーン変数の値**アクションを作成して、そこで「CheckpointY」変数に `Checkpoint.Y()` の値を代入します。

![](/gdevelop5/tutorials/platformer/08-01.jpg)

## ステップ 3：プレーヤーを直前のチェックポイントに送る

ここまでは、「Player」オブジェクトが「Slime」オブジェクトと接触したら、**オブジェクトを削除する**アクションで「Player」オブジェクトをシーンから削除していました。しかしゲームにはいまやチェックポイントが設置されているので、「Player」オブジェクトを削除する必要はもうありません。

代わりに「Player」オブジェクトを直前のチェックポイントに送ることにしましょう。

1. **オブジェクトを削除する**アクションを削除します。
2. 「Player」オブジェクトの**オブジェクトの位置**アクションを作成します。
3. **変更記号**フィールドをすべて**=（代入）**にします。
3. **X 位置** に `Variable(CheckpointX)` と入力します。
4. **Y 位置** に `Variable(CheckpointY)` と入力します。

![](/gdevelop5/tutorials/platformer/08-02.jpg)

ゲームをプレビューすると、死んだプレイヤーが直前のチェックポイントに送り返されます。

![](/gdevelop5/tutorials/platformer/08-04.gif)

## ステップ 4：プレイヤーのデフォルト座標を設定する

`CheckpointX` と `CheckpointY` 変数は、プレイヤーが最初のチェックポイントに到達するまで存在しません。そのためプレイヤーが最初のチェックポイントに到達する前に死ぬと、GDevelop はプレイヤーをデフォルト座標「0,0」に送り返します。

これは次の理由で、望ましくありません。

- デフォルト座標に何か存在するかもしれない（敵とか）
- デフォルト座標の下にはプラットフォームがないかもしれない

これを是正するため、`CheckpointX` と `CheckpointY` 変数に、あらかじめ "Player" オブジェクトの初期座標を設定しておきましょう。初期座標は、シーンエディターに「Player」オブジェクトを配置したその場所が適当です。

次の手順で、初期座標を設定します。

1. 新しいイベントを作成します。
2. **シーンが始まった**条件をイベントに追加します。
3. **シーン変数の値**アクションを作成して、そこで「CheckpointX」変数に `Player.X()` の値を代入します。
4. **シーン変数の値**アクションを作成して、そこで「CheckpointY」変数に `Player.Y()` の値を代入します。

![](/gdevelop5/tutorials/platformer/08-03.jpg)

## 次のステップ

ついにこのチュートリアルをやり通しましたね。おめでとうございます！

ここからは、[ジオメトリモンスター](/gdevelop5/tutorials/geometry-monster/1-install-and-setup)のような他のチュートリアルに挑戦するもよし、プラットフォームゲームをさらに発展させていくもよし、です。これまでに身につけたことを生かせば、あなたにしか作れないものがきっとできるはず。